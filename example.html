
<!DOCTYPE html>
<html lang="en">
<body>
<script src="https://unpkg.com/gojs@2.3.5/release/go.js"></script>

  <script id="code">
  function init() {

    // Since 2.2 you can also author concise templates with method chaining instead of GraphObject.make
    // For details, see https://gojs.net/latest/intro/buildingObjects.html
    const $ = go.GraphObject.make;  // for conciseness in defining templates

    myDiagram =
      $(go.Diagram, "myDiagramDiv",
        {
          "undoManager.isEnabled": true
        });

    // define the "sample" Node template
    myDiagram.nodeTemplate =
      $(go.Node, "Auto",
        new go.Binding("location").makeTwoWay(),
        $(go.Shape, "RoundedRectangle",  // define the node's outer shape
          { fill: "white", strokeWidth: 0 },
          new go.Binding("fill", "color")),
        $(go.TextBlock,  // define the node's text
          { margin: 5 },
          new go.Binding("text", "key"))
      );

    myDiagram.linkTemplate =
      $(go.Link, go.Link.Bezier,
        $(go.Shape, { strokeWidth: 1.5 }),
        $(go.Shape, { toArrow: "Standard" })
      );

    myDiagram.model = new go.GraphLinksModel([
      { key: "H", color: "red", location: new go.Point(-1000, -900) },  
      { key: "C", color: "lightblue", location: new go.Point(-900, -950) },
      { key: "CA", color: "green", location: new go.Point(-900, -900) },
      { key: "HZ", color: "pink", location: new go.Point(-900, -850) },
      
    ], [
        { from: "H", to: "C" },
        { from: "H", to: "CA" },
        { from: "H", to: "HZ" },

      ],
      [
      { key: "Raiz1", color: "red", location: new go.Point(-1000, -900) },  
      { key: "Copia1", color: "lightblue", location: new go.Point(-900, -950) },
      { key: "CopiaArtefacto1", color: "green", location: new go.Point(-900, -900) },
      { key: "HechizoCasteado1", color: "pink", location: new go.Point(-900, -850) },
      
    ],);

      

    // Now we can initialize a Diagram that looks at the visual tree that constitutes the Diagram above.
    myVisualTree =
      $(go.Diagram, "myVisualTree",
        {
          initialContentAlignment: go.Spot.Left,
          initialAutoScale: go.Diagram.Uniform,
          isReadOnly: true,  // do not allow users to modify or select in this view
          allowSelect: false,
          layout: $(go.TreeLayout, { nodeSpacing: 5 })  // automatically laid out as a tree
        });

    myVisualTree.nodeTemplate =
      $(go.Node, "Auto",
        $(go.Shape, { fill: "darkkhaki", stroke: null }),  // assume a dark background
        $(go.TextBlock,
          {
            font: "bold 13px Helvetica, bold Arial, sans-serif",
            stroke: "black",
            margin: 3
          },
          // bind the text to the Diagram/Layer/Part/GraphObject converted to a string
          new go.Binding("text", "", x => {
            // if the node represents a link, be sure to include the "to/from" data for that link
            if (x instanceof go.Link) {
              var s = "Link#" + x.data.__gohashid;
              s += "(" + x.data.from + " to " + x.data.to + ")";
              return s;
            }
            else return x.toString();
          }))
      );

    myVisualTree.linkTemplate =
      $(go.Link,
        $(go.Shape, { stroke: "darkkhaki", strokeWidth: 2 })
      );

    drawVisualTree();
  }

  function drawVisualTree() {
    var visualNodeDataArray = [];

    // recursively walk the visual tree, collecting objects as we go
    function traverseVisualTree(obj, parent) {
      obj.vtkey = visualNodeDataArray.length;
      visualNodeDataArray.push(obj);
      if (parent) {
        obj.parentKey = parent.vtkey;
      }
      if (obj instanceof go.Diagram) {
        var lit = obj.layers;
        while (lit.next()) traverseVisualTree(lit.value, obj);
      } else if (obj instanceof go.Layer) {
        var pit = obj.parts;
        while (pit.next()) traverseVisualTree(pit.value, obj);
      } else if (obj instanceof go.Panel) {
        var eit = obj.elements;
        while (eit.next()) traverseVisualTree(eit.value, obj);
      }
    }

    traverseVisualTree(myDiagram, null);

    myVisualTree.model =
      go.GraphObject.make(go.TreeModel,
        {
          nodeKeyProperty: "vtkey",
          nodeParentKeyProperty: "parentKey",
          nodeDataArray: visualNodeDataArray
        });
  }
  window.addEventListener('DOMContentLoaded', init);
</script>

<b>myDiagram</b>, the diagram being inspected:<br>
<div id="myDiagramDiv" style="border: 1px solid black; width: 500px; height: 300px; position: relative;"><canvas tabindex="0" style="position: absolute; top: 0px; left: 0px; z-index: 2; user-select: none; touch-action: none; width: 298px; height: 198px;" width="298" height="198">This text is displayed if your browser does not support the Canvas HTML element.</canvas><div style="position: absolute; overflow: auto; width: 298px; height: 198px; z-index: 1;"><div style="position: absolute; width: 1px; height: 1px;"></div></div></div>
<br>
<button onclick="drawVisualTree()">Draw Visual Tree</button>
<br>
<br>
<b>myVisualTree</b>, showing the Layers, Nodes and Links that are in <b>myDiagram</b> above:<br>
<div id="myVisualTree" style="border: 1px solid black; background: rgb(31, 73, 99); width: 100%; height: 300px; position: relative; cursor: auto;"><canvas tabindex="0" style="position: absolute; top: 0px; left: 0px; z-index: 2; user-select: none; touch-action: none; width: 1054px; height: 298px; cursor: auto;" width="1054" height="298">This text is displayed if your browser does not support the Canvas HTML element.</canvas><div style="position: absolute; overflow: auto; width: 1054px; height: 298px; z-index: 1;"><div style="position: absolute; width: 1px; height: 1px;"></div></div></div>

</body>
</html>